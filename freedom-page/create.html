<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Granja</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <style>
        h1 {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            text-transform: uppercase;
        }
    </style>
</head>
<body>
<div class="content">
	<div class="container-fluid">
		<div class="row">
    	<div class="col-md-offset-1 col-md-10 col-md-offset-1">
        <div class="panel panel-default">
          <div class="panel-heading"><h3>Registrar Animal</h3></div>
          <div class="panel-body">
            <form id="form_create" class="form-horizontal" method="POST" action="">
              <!-- nombre -->
              <div class="form-group">
                <label class="col-md-4 control-label">Nombre</label>
                <div class="col-md-6">
                  <input type="text" class="form-control" name="nombre" value="" required>
                </div>
              </div>
                      
              <!-- nombre -->
              <div class="form-group">
                <label class="col-md-4 control-label">Edad</label>
                <div class="col-md-6">
                  <input type="text" class="form-control" name="edad" value="" required>
                </div>
              </div>

              <!-- nombre -->
              <div class="form-group">
                <label class="col-md-4 control-label">Peligrosidad</label>
                <div class="col-md-6">
                  <select class="form-control" name="peligrosidad">
                    <option>Alta</option>
                    <option>Media</option>
                    <option>Baja</option>
                  </select>
                </div>
              </div>

              <!-- nombre -->
              <div class="form-group">
                <label class="col-md-4 control-label">Corrales</label>
                <div class="col-md-6">
                  <select id="select_corral" class="form-control" name="corral_id">
                    <option value="1">Corral 1</option>
                    <option value="2">Corral 2</option>
                  </select>
                </div>
              </div>

              

              
              <div class="form-group">
                <div class="col-md-offset-3 col-md-6 col-md-offset-3 center">
                  <button id="createAnimal" type="submit" class="btn btn-success">Registrar</button>
                  <a href="index.html" class="btn btn-danger">Regresar</a>    
                </div>
              </div>
            </form>
          </div>	
        </div>
      </div>
		</div>
	</div>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
     $(document).ready(function() {

        // CREATE ANIMAL
        $("#createAnimal").click(function (e) {
          e.preventDefault();

          var form = $('#form_create');
          var data = form.serialize();
          $.ajax ({
            url: "http://localhost:8000/api/animales",
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            type: "POST",
            data: data,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data){
              alert(data);
            },
            failure: function (data) {
            alert(data.responseText);
            },
            error: function (data) {
            alert(data.responseText);
            }
          });
        });

        // CONSULTAR CORRALES


     });
</script>
</html>
